<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:oauth2="http://www.springframework.org/schema/security/oauth2"
       xmlns:security="http://www.springframework.org/schema/security">

    <context:component-scan base-package="kz.uco.tsadv.rest"/>
<!--    <oauth2:authorization-server token-endpoint-url="/auth/token"-->
<!--                                 authorization-request-manager-ref="oauthAuthorizationRequestManager"-->
<!--                                 client-details-service-ref="clientDetailsService"-->
<!--                                 token-services-ref="tokenServices">-->
<!--        <oauth2:refresh-token/>-->
<!--        <oauth2:password authentication-manager-ref="userAuthenticationManager"/>-->
<!--    </oauth2:authorization-server>-->
    <security:http pattern="/rest/auth/**"
                   create-session="stateless"
                   authentication-manager-ref="clientAuthenticationManager"
                   xmlns="http://www.springframework.org/schema/security">
        <intercept-url pattern="/**" access="isAuthenticated()"/>
        <http-basic entry-point-ref="clientAuthenticationEntryPoint"/>
        <csrf disabled="true"/>
        <cors configuration-source-ref="cuba_RestCorsSource"/>
    </security:http>

    <bean id="restapi_ServicesController" class="kz.uco.tsadv.controllers.ExtServicesController"/>
</beans>