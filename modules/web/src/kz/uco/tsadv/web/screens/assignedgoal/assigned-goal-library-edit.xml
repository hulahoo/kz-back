<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd"
        caption="msg://editorCaption"
        focusComponent="form"
        messagesPack="kz.uco.tsadv.web.screens.assignedgoal">
    <data>
        <instance id="assignedGoalDc"
                  class="kz.uco.tsadv.modules.performance.model.AssignedGoal"
                  view="assignedGoalForKpi">
            <loader/>
        </instance>
        <collection id="goalLibraryDc"
                    class="kz.uco.tsadv.modules.performance.model.GoalLibrary"
                    view="goalLibrary.edit">
            <loader id="goalLibraryDl">
                <query>
                    <![CDATA[select e from tsadv$GoalLibrary e ]]>
                </query>
            </loader>
        </collection>
        <collection id="goalDc"
                    class="kz.uco.tsadv.modules.performance.model.Goal"
                    view="goal.edit">
            <loader id="goalDl">
                <query>
                    <![CDATA[select e from tsadv$Goal e where e in :goalList]]>
                </query>
            </loader>
        </collection>
    </data>
    <dialogMode height="600"
                width="800"/>
    <layout expand="scrollBox" spacing="true">
        <scrollBox id="scrollBox" spacing="true">
            <hbox id="hbox" spacing="true">
                <form id="form" dataContainer="assignedGoalDc">
                    <column width="250px">
                        <lookupField id="goalLibraryField" property="goalLibrary"
                                     required="true"
                                     optionsContainer="goalLibraryDc"/>
                        <lookupField id="parentGoalField" property="parentGoal"
                                     caption="msg://libraryGoals"
                                     optionsContainer="goalDc"
                                     required="true"/>
                        <textField id="weightField" property="weight" required="true"/>
                        <textField id="resultField" property="result" required="true"/>
                    </column>
                </form>
                <form id="form2" dataContainer="assignedGoalDc">
                    <column width="250px">
                        <textArea id="commentField" property="successCritetia"
                                  caption="msg://comments"
                                  rows="7"/>
                    </column>
                </form>
            </hbox>
        </scrollBox>
        <hbox id="editActions" spacing="true">
            <button action="windowCommitAndClose"/>
            <button action="windowClose"/>
        </hbox>
    </layout>
</window>
