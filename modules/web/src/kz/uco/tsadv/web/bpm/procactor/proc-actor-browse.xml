<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://browseCaption"
        class="kz.uco.tsadv.web.bpm.procactor.ProcActorBrowse"
        focusComponent="procActorsTable"
        lookupComponent="procActorsTable"
        messagesPack="kz.uco.tsadv.web.bpm.procactor">
    <dsContext>
        <collectionDatasource id="procActorsDs"
                              allowCommit="false"
                              class="com.haulmont.bpm.entity.ProcActor"
                              view="procActor-browseLoc">
            <query>
                <![CDATA[select e from bpm$ProcActor e where e.procInstance.id = :param$procInstance
order by e.procRole.order, e.order]]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="procTasksDs"
                              allowCommit="false"
                              class="com.haulmont.bpm.entity.ProcTask"
                              view="procTask-browse">
            <query>
                <![CDATA[select e from bpm$ProcTask e
where e.procInstance.id = :param$procInstance]]>
            </query>
        </collectionDatasource>
    </dsContext>
    <dialogMode forceDialog="true"
                height="AUTO"
                resizable="true"
                width="AUTO"/>
    <layout expand="buttonsPanel"
            spacing="true">
        <table id="procActorsTable"
               columnControlVisible="false"
               showSelection="false"
               sortable="false"
               width="100%">
            <columns>
                <column id="procRole"/>
                <column id="user"/>
                <column id="startDate"
                        generator="generateStartDate"/>
                <column id="endDate"
                        generator="generateEndDate"/>
            </columns>
            <rows datasource="procActorsDs"/>
        </table>
        <buttonsPanel id="buttonsPanel">
            <button caption="msg://table.btn.close"
                    invoke="close"/>
        </buttonsPanel>
    </layout>
</window>
