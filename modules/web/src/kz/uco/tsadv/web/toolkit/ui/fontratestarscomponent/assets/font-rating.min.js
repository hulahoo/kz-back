!function(t,e,i,n){"use strict";function s(e,i){this.$element=t(e),this.settings=t.extend({},r,i),this._defaults=r,this._name=a,this.init()}var a="rating",r={showLabel:!0,starCount:5,messages:["What did you think?","It was awful","It leaves something to be desired","Didn't surprise me","I liked it","It's the best!"],validationMessage:"Please rate before you continue",inline:!1,icon:"fa-star",color:"#b08bd7",colorHover:"#7d40bc",size:"20px"};s.prototype={init:function(){function e(t){var e;for(e=1;e<=c.settings.starCount;e++)t>=e?i.find("i[rating-value="+e+"]").css("background-color",c.settings.colorHover):i.find("i[rating-value="+e+"]").css("background-color",c.settings.color);c.settings.showLabel&&a.text(c.settings.messages[t])}var i,n,a,r,o,l=this.$element,c=this;for(this.value=l.val()?parseInt(l.val(),10):0,l.on("change",function(){console.log("change!");var t=+l.val();c.value=t,e(t)}),l.on("invalid",function(t){t.preventDefault(),i.tipi("text",c.settings.validationMessage).tipi("show")}),i=t('<div class="rating-container" />').tipi(),c.settings.inline&&i.css("display","inline-block"),o=t('<div class="stars"/>'),r=1;r<=c.settings.starCount;r++)n=t('<i rating-value="'+r+'" class="fa '+c.settings.icon+'" />'),n.css("font-size",c.settings.size),o.append(n);return i.append(o),c.settings.showLabel&&(a=t("<span/>",{"class":"star-message"}).text(c.settings.messages[0]),i.append(a)),i.find("i").mouseenter(function(){var i=parseInt(t(this).attr("rating-value"),10);e(i)}).click(function(){var e=parseInt(t(this).attr("rating-value"),10);l.val(e).trigger("change"),i.tipi("hide")}),i.mouseleave(function(){e(c.value)}),l.after(i).hide(),e(this.value),s.prototype._$container=i,this},val:function(t){if(!t)return this.value;if(1>t||t>this.settings.starCount)throw"Invalid value, rating can only range from 1 to 5";this.$element.val(t).trigger("change")},container:function(){return this._$container}},t.fn[a]=function(e){var i,r=Array.prototype.slice.call(arguments);return this.each(function(){var n,o=t.data(this,"plugin_"+a);o?(n=r.shift(),i=o[n].apply(o,r)):t.data(this,"plugin_"+a,new s(this,e))}),i===n?this:i}}(jQuery,window,document);